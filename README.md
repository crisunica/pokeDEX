# PokéDEX 

Pokémon was one of my favourite shows growing up.
Some may say "What could be so interesting about a boy searching for some kind of monsters in the grass, catching them and then making them battle other monsters?". 
Well, for me and for many other children at that time, it has some kind of magic. 
Time passed and most of those children have grown out of it and I thought that so have I, up until a certain moment.

## What is PokéDEX?

I was looking over a [list of public APIs](https://github.com/public-apis/public-apis) and as I was scrolling I saw one that has immediately caught my attention,
one called [Pokéapi](https://pokeapi.co/). And so I found the idea behind my Cloud Computing project (a POC meant to demonstrate how an application
can use cloud services and integrate APIs).

PokéDEX is a small, single-page application that does not require user authentication and has 2 main functionalities
1. Displaying pokemon information like one special battle move, height, weight and experience, after pressing the **Pokémon Details** button. 
2. Displaying an image of the pokemon the user searched for by pressing the **See Pokémon!** button. Initially this button is not available, it shows up in the pokémon details block. 

## APIs involved

First of all, what is an API? Well, technically, API stands for **Application Programming Interface** but this sophisticated name doesn't help that much. 
When I first heard this term it didn't ring any bells and it took me quite a long time to understand its meaning. An API is an intermediary software 
that allows 2 applications to communicate. It allows developers to **interact with an application through a set of interfaces**. 

### PokéAPI

The main API used in this application is the Pokemon API. It is a nested API containing highly detailed objects built from thousands of lines of data related to Pokémon. 
Through the [Pokéapi](https://pokeapi.co/) website, everyone can access information on Pokémon, like their moves, abilities, types and much, much more.

PokéAPI is free and open to use. It is a consumption-only API, meaning that HTTP GET method is the only methond available on resources.
One more important thing, authentication is **NOT** required to access this API.

> As mentioned above the API is an app that can be accessed thorugh a set of interfaces. In this particular case, the application is a database of thousands of Pokémon-related objects, and the interfaces are URL links.

### Pokémon (Pokeres) API

The PokéAPI has an entry in the JSON file called sprites where it holds several types of images for each pokémon (back-default, front-default, front-shiny etc.)
At the beginning I used the front-default one but I came to the conclusion that they look kind of old school. So I found this API that has images of all pokemons 
existent in the PokéAPI. A very useful thing, that helped me link these two APIs, was the fact that both the images and the data on each pokemon
have the same id. 

> For this API, the application is a database of thousands of images of Pokémons and the interfaces are URL links.

## Data flow in the application

Firstly the user has to introduce a pokémon name in the provided input box.
If the introduced name does not exist a pop-up holding the message "This pokemon does not exist!!!" will appear.
Otherwise, a request to the PokéAPI is made inside the **getPokeData** function. 
To make GET request from this API we need an url. We will start from this one https://pokeapi.co/api/v2/pokemon/ and we will add the pokemon name recieved as input to it.

```javascript
fetch(pokeApiUrl)
        .then( (data) => {
            if (data.ok){
                return data.json()}
            throw new Error('Response not ok.');
        })
        .then((pokemonData) => generateHtml(pokemonData))
        .catch(error => alert("This pokemon does not exist!!!"));
```
An example of a response generated by this request is the following
```json
{"abilities":[],
"base_experience":63,
"forms":[],
"game_indeces":[],
"height":12,
"held_items":[],
"id":79,
"is_default":true,
"location_area_encounters":"https://pokeapi.co/api/v2/pokemon/79/encounters",
"moves":[],
"name":"slowpoke",
"order":114,
"species":{},
"sprites":{},
"stats":[],
"types":[],
"weight":360}
```
The **generateHtml** method will select the necessary elements from all the extracted data and it will insert it in a html div. 
Then, the block of pokémon information should be displayed.

Inside this block the **See Pokémon!** button will be available. When clicking this one, a call to the other API is made, but this time, 
in a lees complicated way because all we need to get is an image and we already know the url for accessing those images. We will use the  
https://pokeres.bastionbot.org/images/pokemon url as a start and we will add the pokemon id, which was retrieved earlier in the request 
made to the PokéAPI. We should obtain something like this https://pokeres.bastionbot.org/images/pokemon/4.png. All of this is made inside 
the **getPokeWallpaper** which recieves as an input argument the pokémon's id. As done previously, a small html structure is built and then 
added to the main html.

```javascript
const imgHtml = `<img src=${pokeresUrl}>`;
    const pokemonWallDiv = document.querySelector('.pokemonWallpaper');
        pokemonWallDiv.innerHTML = imgHtml;
```
## Images from the application
#### Pop up in case that the input name is misspelt

![](/images/PokeDEXPopUp.PNG)

#### Displyed info on a pokemon

![](/images/pokeInfo.png)

#### Displayed image of a pokemon

![](/images/pokeImage.png)
